\chapter{Elements}
\label{ch:elt-structures}

\begin{cluster}
\label{grp:prmbl:elt-structures::implements}

\begin{preamble}
\label{prmbl:elt-structures::implements}
Implements an element with the given type.

\begin{verbatim}
structure UnitElt : ELEMENT  where type t = unit
\end{verbatim}

\begin{verbatim}
structure BoolElt : ELEMENT  where type t = bool
\end{verbatim}

\end{preamble}
\end{cluster}


\section{Cost Specification}
\label{sec:elt-structures::cost-specification}

\begin{cluster}
\label{grp:cost:unit}

\begin{costspec}[UnitElt]
\label{cost:unit}
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{equal}~(A,B)$ & $\bigoh {1}$ & $\bigoh {1}$ \\
$\sml{compare}~(A,B)$ & $\bigoh {1}$ & $\bigoh {1}$ \\
$\sml{hash}~(A,B)$ & $\bigoh {1}$ & $\bigoh {1}$ \\
$\sml{toString}~(A,B)$ & $\bigoh {1}$ & $\bigoh {1}$ \\
\end{tabular}

\end{costspec}
\end{cluster}

\begin{cluster}
\label{grp:cost:string}

\begin{costspec}[StringElt]
\label{cost:string}
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{equal}~(A,B)$ & $\displaystyle \bigoh{\min(|A|, |B|)}$ & $\displaystyle \bigoh {\min(|A|, |B|)}$ \\
$\sml{compare}~(A,B)$ & $\displaystyle \bigoh {\min(|A|, |B|)}$ & $\displaystyle \bigoh {\min(|A|, |B|)}$ \\
$\sml{hash}~(A)$ & $\displaystyle \bigoh {|A|}$ & $\displaystyle \bigoh {|A|}$ \\
$\sml{toString}~(A)$ & $\displaystyle \bigoh {|A|}$ & $\displaystyle \bigoh {|A|}$ \\
\end{tabular}

\end{costspec}
\end{cluster}

\begin{cluster}
\label{grp:cost:pair}

\begin{costspec}[MkPairElt]
\label{cost:pair}
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{equal}~((A_1, A_2),(B_1, B_2))$ & $\displaystyle \bigoh{W_{\sml{equal}} \left( A_1, B_1 \right) + W_{\sml{equal}} \left( A_2, B_2 \right)}$ & $\displaystyle \bigoh {\max \left( S_{\sml{equal}} \left( A_1, B_1 \right), S_{\sml{equal}} \left( A_2, B_2 \right) \right)}$ \\
$\sml{compare}~((A_1, A_2), (B_1, B_2))$ & $\displaystyle \bigoh{W_{\sml{compare}} \left( A_1, B_1 \right) + W_{\sml{compare}} \left( A_2, B_2 \right)}$ & $\displaystyle \bigoh {\max \left( S_{\sml{compare}} \left( A_1, B_1 \right), S_{\sml{compare}} \left( A_2, B_2 \right) \right)}$ \\
$\sml{hash}~(A_1, A_2)$ & $\displaystyle \bigoh{W_{\sml{hash}} \left( A_1 \right) + W_{\sml{hash}} \left( A_2 \right)}$ & $\displaystyle \bigoh {S_{\sml{hash}} \left( A_1 \right) + S_{\sml{hash}} \left( A_2 \right)}$ \\
$\sml{toString}~(A_1, A_2)$ & $\displaystyle \bigoh{W_{\sml{toString}} \left( A_1 \right) + W_{\sml{toString}} \left( A_2 \right)}$ & $\displaystyle \bigoh {\max \left( S_{\sml{toString}} \left( A_1 \right), S_{\sml{toString}} \left( A_2 \right)\right)}$ \\
\end{tabular}

\end{costspec}
\end{cluster}

\begin{cluster}
\label{grp:cost:triple}

\begin{costspec}[MkTripleElt]
    \label{cost:triple}
    \begin{tabular}{c|c|c}
    & \textbf{Work} & \textbf{Span} \\
    $\sml{equal}~((A_1, A_2, A_3),(B_1, B_2, B_3))$ & $\displaystyle \bigoh{W_{\sml{equal}} \left( A_1, B_1 \right) + W_{\sml{equal}} \left( A_2, B_2 \right) + W_{\sml{equal}} \left( A_3, B_3 \right)}$ & $\displaystyle \bigoh {\max \left( S_{\sml{equal}} \left( A_1, B_1 \right), S_{\sml{equal}} \left( A_2, B_2 \right), S_{\sml{equal}} \left( A_3, B_3 \right) \right)}$ \\
    $\sml{compare}~((A_1, A_2, A_3), (B_1, B_2, B_3))$ & $\displaystyle \bigoh{W_{\sml{compare}} \left( A_1, B_1 \right) + W_{\sml{compare}} \left( A_2, B_2 \right) + W_{\sml{compare}} \left( A_3, B_3 \right)}$ & $\displaystyle \bigoh {\max \left( S_{\sml{compare}} \left( A_1, B_1 \right), S_{\sml{compare}} \left( A_2, B_2 \right), S_{\sml{compare}} \left( A_3, B_3 \right) \right)}$ \\
    $\sml{hash}~(A_1, A_2, A_3)$ & $\displaystyle \bigoh{W_{\sml{hash}} \left( A_1 \right) + W_{\sml{hash}} \left( A_2 \right) + W_{\sml{hash}} \left( A_3 \right)}$ & $\displaystyle \bigoh {S_{\sml{hash}} \left( A_1 \right) + S_{\sml{hash}} \left( A_2 \right) + S_{\sml{hash}} \left( A_3 \right)}$ \\
    $\sml{toString}~(A_1, A_2)$ & $\displaystyle \bigoh{W_{\sml{toString}} \left( A_1 \right) + W_{\sml{toString}} \left( A_2 \right) + + W_{\sml{toString}} \left( A_3 \right)}$ & $\displaystyle \bigoh {\max \left( S_{\sml{toString}} \left( A_1 \right), S_{\sml{toString}} \left( A_2 \right), S_{\sml{toString}} \left( A_3 \right)\right)}$ \\
    \end{tabular}
    

\end{costspec}
\end{cluster}

\begin{cluster}
\label{grp:cost:sequence}

\begin{costspec}[MkSeqElt]
\label{cost:sequence}
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{equal}~(A,B)$ & $\displaystyle \bigoh{\sum_{i=0}^{\min(|A|, |B|) - 1} W_{\sml{equal}}(A[i], B[i])}$ & $\displaystyle \bigoh {\max_{i=0}^{\min(|A|, |B|) - 1} S_{\sml{equal}} (A[i], B[i])}$ \\
$\sml{compare}~(A,B)$ & $\displaystyle \bigoh{\sum_{i=0}^{\min(|A|, |B|) - 1} W_{\sml{compare}}(A[i], B[i])}$ & $\displaystyle \bigoh {\max_{i=0}^{\min(|A|, |B|) - 1} S_{\sml{compare}} (A[i], B[i])}$ \\
$\sml{hash}~(A)$ & $\displaystyle \bigoh{\sum_{i=0}^{|A| - 1} W_{\sml{hash}}(A[i])}$ & $\displaystyle \bigoh {\max_{i=0}^{|A| - 1} S_{\sml{hash}} (A[i])}$ \\
$\sml{toString}~(A)$ & $\displaystyle \bigoh{\sum_{i=0}^{|A| - 1} W_{\sml{toString}}(A[i])}$ & $\displaystyle \bigoh {\max_{i=0}^{|A| - 1} S_{\sml{tS}} (A[i])}$ \\
\end{tabular}

\end{costspec}
\end{cluster}

